<h1>Create Book</h1>
<form [formGroup]="bookForm" (ngSubmit)="createBook(bookForm.value)">

  <div class="form-group mx-sm-3 mb-2">
    <label for="name">
      Book Name
    </label>
    <input novalidate id="name" class="form-control" formControlName="name" placeholder="Book Name">
  </div>
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('name').hasError('required') &&
      bookForm.get('name').touched">
    Name required
  </div>



    <div class="col-md-6">

        <div class="row">
          <div class="form-group mx-sm-3 mb-2">
            <label for="authors">
              Author:
            </label>
              <select class="form-control" id="authors"
              rows="3"
              formControlName="authors">
                 <option *ngFor="let e of allAuthors" value={{e.name}}>{{e.name}}</option>

               </select>
            </div>

            <button type="button" (click)="addAuthor()" class="btn btn-primary">+<span class="fa fa-plus"></span></button>
        </div>
        <hr>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6 text-center" >
                <table class="table table-striped">
                    <tbody>
                        <tr *ngFor = "let j of authors" >
                            <td> <dd>{{j.name}}</dd></td>
                    <td id="author-delete">
                        <button class="btn btn-danger" (click)="removeAuthor(j)">-<span class="fa fa-trash"></span></button>
                    </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('authors').hasError('required') &&
bookForm.get('authors').touched">
    Author required
  </div>


  <div class="form-group  mx-sm-3 mb-2">
    <label for="publishingdate">
      Book Publish Date
    </label>
    <input id="publishingdate" type="date" class="form-control" formControlName="publishingdate"
      placeholder="Book Publish Date">
  </div>
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('publishingdate').hasError('required') &&
bookForm.get('publishingdate').touched">
    Date required
  </div>



  <div class="form-group  mx-sm-3 mb-2">
    <label for="description">
      Book Description
    </label>
    <input id="description" type="text" class="form-control" formControlName="description"
      placeholder="Book Description">
  </div>
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('description').hasError('required') &&
bookForm.get('description').touched">
    Description required
  </div>


  <div class="form-group  mx-sm-3 mb-2">
    <label for="isbn">
      Book ISBN
    </label>
    <input id="isbn" type="text" class="form-control" formControlName="isbn" placeholder="Book ISBN">
  </div>
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('isbn').hasError('required') &&
bookForm.get('isbn').touched">
    ISBN required
  </div>

  <div class="form-group  mx-sm-3 mb-2">
    <label for="image">
      Book Image
    </label>
    <input id="image" type="url" class="form-control" formControlName="image" placeholder="Book Image">
  </div>
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('image').hasError('required') &&
bookForm.get('image').touched">
    Image required
  </div>

  <div class="form-group  mx-sm-3 mb-2">
    <label for="editorial">
      Book Editorial
    </label>
    <select class="form-control" id="editorial" rows="3" formControlName="editorial">
      <option *ngFor="let e of editorials">{{e.name}}</option>

    </select>
  </div>
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="bookForm.get('editorial').hasError('required') &&
bookForm.get('editorial').touched">
    Editorial required
  </div>




  <div class="row form-inline justify-content-center align-self-center">
    <button type="submit" class="btn btn-primary" [disabled]="bookForm.invalid">Create</button>
    <div class="divider"></div>
    <button type="button" class="btn btn-danger" (click)="cancelCreation()">Cancel</button>
  </div>

</form>
